<script>
    var modal = document.querySelector<HTMLDialogElement>('.modal')!

    function showModal(title: string, content: string) {
        modal.querySelector('.title')!.textContent = title
        modal.querySelector<HTMLElement>('.message')!.innerHTML = content
        modal.showModal();
    }
    window.showModal = showModal

    modal.addEventListener('click', (e: MouseEvent) => {
        var isOutside = checkIfOuterModal(e)
        if (isOutside) {
            modal.close()
        }
    })
    modal.querySelector('.btn')!.addEventListener('click', _e => {
        modal.close()
    })

    function checkIfOuterModal(e: MouseEvent) {
        const dimensions = modal.getBoundingClientRect()
        if (
            e.clientX < dimensions.left ||
            e.clientX > dimensions.right ||
            e.clientY < dimensions.top ||
            e.clientY > dimensions.bottom
        ) return true
        else return false
    }
</script>
